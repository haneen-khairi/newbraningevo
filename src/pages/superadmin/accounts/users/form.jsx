import FormInput from "@/components/forms/FormInput";
import FormTimepicker from "@/components/forms/FormTimepicker";
import { useBuildings } from "@/services/buildingsv2";
import { useQuery } from "@tanstack/react-query";
import { Col, DatePicker, Flex, Form, Row, Select } from "antd";
import dayjs from "dayjs";
import { useEffect, useState } from "react";
import { useTranslation } from "react-i18next";
import { IoMdTime } from "react-icons/io";
import { MdDateRange } from "react-icons/md";

export default function EditForm({ initialValues, onSubmit }) {
  const { t } = useTranslation();

  const [form] = Form.useForm();

  const statusOptions = [
    {
      value: 1,
      label: t("active"),
    },
    {
      value: 2,
      label: t("inactive"),
    },
  ];
  const permissionsOptions = [
    {
      value: 1,
      label: (
        <Flex justify="start" align="center">
          <svg
            width="30"
            height="30"
            viewBox="0 0 44 45"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_23_4691)">
              <path
                d="M34 18.9998C34 18.602 33.842 18.2204 33.5607 17.9391C33.2794 17.6578 32.8978 17.4998 32.5 17.4998C32.5 17.4998 31.916 17.4998 31.875 17.5078C31.1272 16.1223 30.2705 14.7985 29.313 13.5488C28.8134 12.8991 28.121 12.4241 27.335 12.1918C25.574 11.3358 18.426 11.3358 16.665 12.1918C15.879 12.4241 15.1866 12.8991 14.687 13.5488C13.7294 14.7985 12.8728 16.1223 12.125 17.5078C12.084 17.4998 11.5 17.4998 11.5 17.4998C11.1022 17.4998 10.7206 17.6578 10.4393 17.9391C10.158 18.2204 10 18.602 10 18.9998V25.4998C10.0002 26.2018 10.1851 26.8913 10.5362 27.4992C10.8872 28.107 11.3921 28.6118 12 28.9628V30.4998C12 31.2955 12.3161 32.0585 12.8787 32.6211C13.4413 33.1837 14.2044 33.4998 15 33.4998C15.7956 33.4998 16.5587 33.1837 17.1213 32.6211C17.6839 32.0585 18 31.2955 18 30.4998V29.4998H26V30.4998C26 31.2955 26.3161 32.0585 26.8787 32.6211C27.4413 33.1837 28.2044 33.4998 29 33.4998C29.7956 33.4998 30.5587 33.1837 31.1213 32.6211C31.6839 32.0585 32 31.2955 32 30.4998V28.9628C32.6079 28.6118 33.1128 28.107 33.4638 27.4992C33.8149 26.8913 33.9998 26.2018 34 25.4998V18.9998ZM16.274 14.7658C16.519 14.4499 16.8574 14.2193 17.241 14.1068C18.76 13.3558 25.241 13.3558 26.759 14.1068C27.1426 14.2193 27.481 14.4499 27.726 14.7658C29.2446 16.7571 30.4953 18.939 31.446 21.2558C25.1818 20.3418 18.8182 20.3418 12.554 21.2558C13.5047 18.939 14.7554 16.7571 16.274 14.7658ZM16 30.4998C16 30.765 15.8946 31.0194 15.7071 31.2069C15.5196 31.3944 15.2652 31.4998 15 31.4998C14.7348 31.4998 14.4804 31.3944 14.2929 31.2069C14.1054 31.0194 14 30.765 14 30.4998V29.4998H16V30.4998ZM30 30.4998C30 30.765 29.8946 31.0194 29.7071 31.2069C29.5196 31.3944 29.2652 31.4998 29 31.4998C28.7348 31.4998 28.4804 31.3944 28.2929 31.2069C28.1054 31.0194 28 30.765 28 30.4998V29.4998H30V30.4998ZM30 27.4998H14C13.4696 27.4998 12.9609 27.2891 12.5858 26.914C12.2107 26.5389 12 26.0302 12 25.4998V23.3568C15.3108 22.8507 18.6514 22.5644 22 22.4998C25.3486 22.5644 28.6892 22.8507 32 23.3568V25.4998C32 26.0302 31.7893 26.5389 31.4142 26.914C31.0391 27.2891 30.5304 27.4998 30 27.4998ZM16 25.4998C16 25.765 15.8946 26.0194 15.7071 26.2069C15.5196 26.3944 15.2652 26.4998 15 26.4998C14.7348 26.4998 14.4804 26.3944 14.2929 26.2069C14.1054 26.0194 14 25.765 14 25.4998C14 25.2346 14.1054 24.9802 14.2929 24.7927C14.4804 24.6052 14.7348 24.4998 15 24.4998C15.2652 24.4998 15.5196 24.6052 15.7071 24.7927C15.8946 24.9802 16 25.2346 16 25.4998ZM30 25.4998C30 25.765 29.8946 26.0194 29.7071 26.2069C29.5196 26.3944 29.2652 26.4998 29 26.4998C28.7348 26.4998 28.4804 26.3944 28.2929 26.2069C28.1054 26.0194 28 25.765 28 25.4998C28 25.2346 28.1054 24.9802 28.2929 24.7927C28.4804 24.6052 28.7348 24.4998 29 24.4998C29.2652 24.4998 29.5196 24.6052 29.7071 24.7927C29.8946 24.9802 30 25.2346 30 25.4998Z"
                fill="#6251D3"
              />
            </g>
            <defs>
              <clipPath id="clip0_23_4691">
                <rect
                  width="24"
                  height="24"
                  fill="white"
                  transform="translate(10 10.5)"
                />
              </clipPath>
            </defs>
          </svg>
          <span>{t("privateCar")}</span>
        </Flex>
      ),
    },
    {
      value: 2,
      label: (
        <Flex justify="start" align="center">
          <svg
            width="30"
            height="30"
            viewBox="0 0 44 45"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_23_4703)">
              <path
                d="M32 20.5002V16.9202C32 16.6863 31.9866 16.4526 31.96 16.2202C31.8264 14.9969 31.3157 13.8455 30.4987 12.9253C29.6817 12.0051 28.5988 11.3617 27.4 11.0842C23.8417 10.3092 20.1583 10.3092 16.6 11.0842C15.4012 11.3618 14.3184 12.0053 13.5014 12.9254C12.6845 13.8456 12.1737 14.997 12.04 16.2202C12.0134 16.4526 12 16.6863 12 16.9202V20.5002C11.4696 20.5002 10.9609 20.7109 10.5858 21.086C10.2107 21.4611 10 21.9698 10 22.5002V23.5002C10 24.0306 10.2107 24.5393 10.5858 24.9144C10.9609 25.2895 11.4696 25.5002 12 25.5002V27.5002C11.9995 28.2765 12.1801 29.0422 12.5272 29.7366C12.8744 30.4309 13.3787 31.0348 14 31.5002V32.0002C13.9994 32.6202 14.2291 33.2183 14.6447 33.6784C15.0602 34.1385 15.6319 34.4277 16.2488 34.49C16.8656 34.5524 17.4836 34.3832 17.9827 34.0155C18.4819 33.6478 18.8266 33.1078 18.95 32.5002H25.05C25.1734 33.1078 25.5181 33.6478 26.0173 34.0155C26.5164 34.3832 27.1344 34.5524 27.7512 34.49C28.3681 34.4277 28.9398 34.1385 29.3553 33.6784C29.7709 33.2183 30.0006 32.6202 30 32.0002V31.5002C30.6213 31.0348 31.1256 30.4309 31.4728 29.7366C31.8199 29.0422 32.0005 28.2765 32 27.5002V25.5002C32.5304 25.5002 33.0391 25.2895 33.4142 24.9144C33.7893 24.5393 34 24.0306 34 23.5002V22.5002C34 21.9698 33.7893 21.4611 33.4142 21.086C33.0391 20.7109 32.5304 20.5002 32 20.5002ZM14 23.5002V17.5002H30V23.5002H14ZM17.052 13.0322C20.3139 12.3226 23.6901 12.3226 26.952 13.0322C27.5857 13.1799 28.1728 13.4827 28.6605 13.9135C29.1482 14.3443 29.5212 14.8895 29.746 15.5002H26C26 15.235 25.8946 14.9806 25.7071 14.7931C25.5196 14.6055 25.2652 14.5002 25 14.5002H19C18.7348 14.5002 18.4804 14.6055 18.2929 14.7931C18.1054 14.9806 18 15.235 18 15.5002H14.254C14.4791 14.8891 14.8528 14.3435 15.3412 13.9127C15.8296 13.4819 16.4175 13.1793 17.052 13.0322ZM27 30.5002H17C16.2044 30.5002 15.4413 30.1841 14.8787 29.6215C14.3161 29.0589 14 28.2958 14 27.5002V25.5002H16V26.5002C16 26.7654 16.1054 27.0198 16.2929 27.2073C16.4804 27.3948 16.7348 27.5002 17 27.5002C17.2652 27.5002 17.5196 27.3948 17.7071 27.2073C17.8946 27.0198 18 26.7654 18 26.5002V25.5002H26V26.5002C26 26.7654 26.1054 27.0198 26.2929 27.2073C26.4804 27.3948 26.7348 27.5002 27 27.5002C27.2652 27.5002 27.5196 27.3948 27.7071 27.2073C27.8946 27.0198 28 26.7654 28 26.5002V25.5002H30V27.5002C30 28.2958 29.6839 29.0589 29.1213 29.6215C28.5587 30.1841 27.7956 30.5002 27 30.5002Z"
                fill="#3B953B"
              />
            </g>
            <defs>
              <clipPath id="clip0_23_4703">
                <rect
                  width="24"
                  height="24"
                  fill="white"
                  transform="translate(10 10.5)"
                />
              </clipPath>
            </defs>
          </svg>

          <span>{t("shuttle-transport")}</span>
        </Flex>
      ),
    },
    {
      value: 3,
      label: (
        <Flex justify="start" align="center">
          <svg
            width="30"
            height="30"
            viewBox="0 0 44 44"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_23_4715)">
              <path
                d="M30 20H29.885C30.0237 19.5433 30.0551 19.0607 29.9768 18.5899C29.8984 18.119 29.7123 17.6727 29.4331 17.2855C29.1539 16.8984 28.789 16.581 28.367 16.358C27.945 16.135 27.4772 16.0125 27 16H13C7.549 16.372 11 24.651 12.411 26.912C13.0438 27.8705 13.9065 28.6553 14.9205 29.1947C15.9345 29.7341 17.0675 30.011 18.216 30H21.783C22.9129 30.0103 24.028 29.742 25.0295 29.2187C26.031 28.6955 26.8881 27.9334 27.525 27H30C34.814 26.907 35.759 19.822 30 20ZM21.783 28H18.216C17.4002 28.011 16.5946 27.8173 15.873 27.4367C15.1513 27.056 14.5366 26.5005 14.085 25.821C13.541 25.3 10.494 18 13 18H27C27.1376 17.9996 27.2737 18.0283 27.3994 18.0843C27.525 18.1403 27.6374 18.2224 27.729 18.325C27.8265 18.4324 27.9001 18.5592 27.9451 18.6971C27.9901 18.835 28.0054 18.9808 27.99 19.125C27.427 23.384 26.368 27.811 21.783 28ZM30 25H28.588C28.9991 24.032 29.3185 23.0276 29.542 22C30.751 21.919 32.088 22.216 32 23.143C31.9675 23.6496 31.7421 24.1246 31.37 24.47C30.998 24.8155 30.5077 25.0051 30 25ZM19.025 13V11C19.025 10.7348 19.1304 10.4804 19.3179 10.2929C19.5054 10.1054 19.7598 10 20.025 10C20.2902 10 20.5446 10.1054 20.7321 10.2929C20.9196 10.4804 21.025 10.7348 21.025 11V13C21.025 13.2652 20.9196 13.5196 20.7321 13.7071C20.5446 13.8946 20.2902 14 20.025 14C19.7598 14 19.5054 13.8946 19.3179 13.7071C19.1304 13.5196 19.025 13.2652 19.025 13ZM23.025 13V11C23.025 10.7348 23.1304 10.4804 23.3179 10.2929C23.5054 10.1054 23.7598 10 24.025 10C24.2902 10 24.5446 10.1054 24.7321 10.2929C24.9196 10.4804 25.025 10.7348 25.025 11V13C25.025 13.2652 24.9196 13.5196 24.7321 13.7071C24.5446 13.8946 24.2902 14 24.025 14C23.7598 14 23.5054 13.8946 23.3179 13.7071C23.1304 13.5196 23.025 13.2652 23.025 13ZM15.025 13V11C15.025 10.7348 15.1304 10.4804 15.3179 10.2929C15.5054 10.1054 15.7598 10 16.025 10C16.2902 10 16.5446 10.1054 16.7321 10.2929C16.9196 10.4804 17.025 10.7348 17.025 11V13C17.025 13.2652 16.9196 13.5196 16.7321 13.7071C16.5446 13.8946 16.2902 14 16.025 14C15.7598 14 15.5054 13.8946 15.3179 13.7071C15.1304 13.5196 15.025 13.2652 15.025 13ZM30 33C30 33.2652 29.8946 33.5196 29.7071 33.7071C29.5196 33.8946 29.2652 34 29 34H11C10.7348 34 10.4804 33.8946 10.2929 33.7071C10.1054 33.5196 10 33.2652 10 33C10 32.7348 10.1054 32.4804 10.2929 32.2929C10.4804 32.1054 10.7348 32 11 32H29C29.2652 32 29.5196 32.1054 29.7071 32.2929C29.8946 32.4804 30 32.7348 30 33Z"
                fill="#E09F49"
              />
            </g>
            <defs>
              <clipPath id="clip0_23_4715">
                <rect
                  width="24"
                  height="24"
                  fill="white"
                  transform="translate(10 10)"
                />
              </clipPath>
            </defs>
          </svg>

          <span>{t("hospitality")}</span>
        </Flex>
      ),
    },
    {
      value: 4,
      label: (
        <Flex justify="start" align="center">
          <svg
            width="30"
            height="30"
            viewBox="0 0 44 45"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_23_4727)">
              <path
                d="M28 22.5C24.691 22.5 22 25.191 22 28.5C22 31.809 24.691 34.5 28 34.5C31.309 34.5 34 31.809 34 28.5C34 25.191 31.309 22.5 28 22.5ZM31 31.143V31C31 30.172 30.328 29.5 29.5 29.5H26.5C25.672 29.5 25 30.172 25 31V31.143C24.378 30.438 24 29.512 24 28.5C24 26.294 25.794 24.5 28 24.5C30.206 24.5 32 26.294 32 28.5C32 29.512 31.622 30.437 31 31.143ZM29.5 27C29.5 27.828 28.828 28.5 28 28.5C27.172 28.5 26.5 27.828 26.5 27C26.5 26.172 27.172 25.5 28 25.5C28.828 25.5 29.5 26.172 29.5 27ZM29 12.5H28V11.5C28 10.948 27.552 10.5 27 10.5C26.448 10.5 26 10.948 26 11.5V12.5H18V11.5C18 10.948 17.552 10.5 17 10.5C16.448 10.5 16 10.948 16 11.5V12.5H15C12.243 12.5 10 14.743 10 17.5V29.5C10 32.257 12.243 34.5 15 34.5H20C20.552 34.5 21 34.052 21 33.5C21 32.948 20.552 32.5 20 32.5H15C13.346 32.5 12 31.154 12 29.5V20.5H32C32 21.052 32.448 21.5 33 21.5C33.552 21.5 34 21.052 34 20.5V17.5C34 14.743 31.757 12.5 29 12.5ZM12 18.5V17.5C12 15.846 13.346 14.5 15 14.5H29C30.654 14.5 32 15.846 32 17.5V18.5H12Z"
                fill="#0070DF"
              />
            </g>
            <defs>
              <clipPath id="clip0_23_4727">
                <rect
                  width="24"
                  height="24"
                  fill="white"
                  transform="translate(10 10.5)"
                />
              </clipPath>
            </defs>
          </svg>

          <span>{t("VisitInvitations")}</span>
        </Flex>
      ),
    },
  ];


  return (
    <Form
      form={form}
      layout="vertical"
      id="user-form"
      onFinish={(values) => {
        onSubmit(values);
      }}
    >
      <Form.Item label={t("editAccountStatus")} name="editAccountStatus">
        <Select
          showSearch
          style={{ width: "100%" }}
          placeholder={t("editAccountStatus")}
          optionFilterProp="label"
          filterSort={(optionA, optionB) =>
            (optionA?.label ?? "")
              .toLowerCase()
              .localeCompare((optionB?.label ?? "").toLowerCase())
          }
          options={statusOptions}
        />
      </Form.Item>

      <Form.Item label={t("productPermissions")} name="productPermissions">
        <Select
          showSearch
          mode="multiple"
          style={{ width: "100%" }}
          placeholder={t("productPermissions")}
          optionFilterProp="label"
          options={permissionsOptions}
        />
      </Form.Item>
    </Form>
  );
}
